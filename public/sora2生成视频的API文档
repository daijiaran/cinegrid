这里使用的APIkey是：src/utils/api.js中的apikey
一、基础接入信息
1. 接口域名（Host）
● 海外访问：https://api.grsai.com
● 国内直连：https://grsai.dakka.com.cn
● 使用方式：Host + 接口路径（例如：https://grsai.dakka.com.cn/v1/video/sora-video）
2. 通用请求头
所有接口的请求头格式一致，必须包含以下内容（身份认证和数据格式声明）：
{
  "Content-Type": "application/json",
  "Authorization": "Bearer apikey"  // apikey替换为你的实际接口密钥
}
二、核心接口解析
1. Sora2视频生成接口（核心）
● 接口路径：/v1/video/sora-video
● 请求方式：POST
● 响应方式：流式响应（stream） 或 回调接口（webHook）
请求参数（JSON）
参数名	必填	类型	说明
model	是	string	固定值 sora-2
prompt	是	string	视频生成的提示词（例如："A cute cat playing on the grass"）
url	否	string	参考图的URL或Base64编码
aspectRatio	否	string	视频比例，支持9:16/16:9，默认9:16
duration	否	number	视频时长，支持10/15秒，默认10秒
remixTargetId	否	string	视频续作的目标ID（对应生成视频返回的pid，格式：s_xxxxxxxx）
characters	否	array	角色视频信息（不可传真人视频），格式：[{url:"视频URL", timestamps:"0,3"}]（timestamps最多3秒）
size	否	string	视频清晰度，支持small/large，默认small
webHook	否	string	回调链接（接收进度/结果）；填"-1"则立即返回任务ID，用于轮询结果
shutProgress	否	boolean	是否关闭进度回复（直接返回最终结果），默认false
响应规则
● webHook模式（填了回调链接/"-1"）：先返回任务ID，格式如下：
{
  "code": 0,  // 0=成功
  "msg": "success",
  "data": {
    "id": "f44bcf50-f2d0-4c26-a467-26f2014a771b"  // 任务ID，用于关联回调/轮询
  }
}
● 流式/回调最终响应（包含视频结果）：
{
  "id": "任务ID",
  "results": [  // 视频结果数组
    {
      "url": "https://example.com/example.mp4",  // 视频URL（有效期2小时）
      "removeWatermark": true,  // 是否去水印
      "pid": "s_xxxxxxxxxxxxxxx"  // 视频续作的目标ID
    }
  ],
  "progress": 100,  // 任务进度（0~100）
  "status": "succeeded",  // 状态：running(进行中)/succeeded(成功)/failed(失败)
  "failure_reason": "",  // 失败原因（output_moderation/input_moderation/error）
  "error": ""  // 错误详情
}
2. 上传角色接口
● 接口路径：/v1/video/sora-upload-character
● 请求方式：POST
● 核心作用：上传自定义角色视频（非真人），供视频生成接口引用
● 关键参数：
  ○ url：角色视频URL/Base64
  ○ timestamps：视频片段范围（例如"0,3"，最多3秒）
● 响应：返回角色ID（character_id），其余格式同视频接口（进度/状态/回调规则一致）
3. 从原视频创建角色接口
● 接口路径：/v1/video/sora-create-character
● 请求方式：POST
● 核心作用：基于已生成的视频（pid）提取角色
● 关键参数：
  ○ pid（必填）：原视频的pid（格式s_xxxxxxxx）
● 响应：返回角色ID（character_id），格式同上
4. 获取结果接口（轮询专用）
● 接口路径：/v1/draw/result
● 请求方式：POST
● 核心作用：当webHook填"-1"时，用该接口轮询任务结果
● 请求参数：{ "id": "任务ID" }
● 响应：
{
  "code": 0,  // 0=成功，-22=任务不存在
  "msg": "success",
  "data": {  // 视频结果，同流式响应的完整结构
    "id": "任务ID",
    "results": [...],
    "progress": 100,
    "status": "succeeded",
    "failure_reason": "",
    "error": ""
  }
}
三、关键补充说明
1. 角色引用规则：上传多个角色后，可在prompt中用@character1/@character2指定引用对应角色；
2. 失败处理：生成失败时会返还积分，失败原因可通过failure_reason查看；
3. 视频URL有效期：生成的视频URL仅保留2小时，需及时下载；
4. 回调规则：填webHook后，接口会以POST请求将进度/结果推送到该地址，请求头为Content-Type: application/json。
总结
这份API文档的核心信息可归纳为3点：
1. 基础接入：国内/海外双域名，请求头需带Bearer格式的apikey认证；
2. 核心能力：支持Sora2视频生成、角色上传/提取，可通过流式响应、回调、轮询3种方式获取结果；
3. 关键参数：视频生成需必填model和prompt，选填参数覆盖比例、时长、角色、续作等场景，失败时可通过failure_reason定位问题。
你可以根据业务场景选择响应方式（流式适合实时展示进度，回调适合异步处理，轮询适合简单场景），调用前需确保apikey有效，且参数格式符合文档要求。